<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Instrument+Serif&display=swap"
      rel="stylesheet" />
    <link rel="icon" href="icon/pngwing.com.png" />
    <link rel="stylesheet" href="style/sanpo.css" />
    <title>time in my pouch</title>
  </head>
  <body>
    <div class="scroll-bar"></div>

    <h1>
      <a href="#top">
        <span class="mtop">Time in My Pouch</span>
        <span></span>
      </a>
    </h1>
    <div id="bg"></div>
    <div id="layer">
      <div class="img_box">
        <img class="layer_img" src="/assetsub/air2.jpg" alt="" /><span
          class="caption"
          >중딩때의 첫 에어팟. 진심으로 기뻐서 사진만 삼백장 찍었다.</span
        >
      </div>
      <div class="img_box">
        <img class="layer_img" src="/assetsub/clover.JPG" alt="" /><span
          class="caption"
          >반수시절 광기의 네잎클로버.. 대학생 친구들이 진심으로 내 정신상태를
          걱정해주었다.</span
        >
      </div>
      <div class="img_box">
        <img class="layer_img" src="/assetsub/susi.png" alt="" /><span
          class="caption"
          >친구가 그려준 수시부적. 덕분에 대학 잘~ 왔습니다</span
        >
      </div>
      <div class="img_box">
        <img class="layer_img" src="/assetsub/sti.jpg" alt="" /><span
          class="caption"
          >대2때 심심해서 만든 찌라시 스티커. 참고로 인기 짱이었다.</span
        >
      </div>
      <div class="img_box">
        <img class="layer_img" src="/assetsub/keroro.png" alt="" /><span
          class="caption"
          >2024 미리 생일선물로 받은 빤히.. 케로로 뱃지! 땡스투 의건</span
        >
      </div>
      <div class="img_box">
        <img class="layer_img" src="/assetsub/mintlime.png" alt="" /><span
          class="caption"
          >친구가 홍콩에서 사다준 이클립스 라임민트.한국에서는 구할 수 없다고!
          맛있어서 아껴먹는 중이다.</span
        >
      </div>
      <div class="img_box">
        <img class="layer_img" src="/assetsub/mucup.webp" alt="" /><span
          class="caption"
          >양치할 때 위생적으로 쓸 수 있을 것 같은 실리콘 컵이다. 점심먹고
          양치가 너무 하고싶기 때문에</span
        >
      </div>
      <div class="img_box">
        <img class="layer_img" src="/assetsub/munote.webp" alt="" /><span
          class="caption"
          >너무 미디어에만 의존하는 것 같아 노트를 품고 다닐까요..</span
        >
      </div>
      <div class="img_box">
        <img class="layer_img" src="assetsub/mujipen.webp" alt="" /><span
          class="caption"
          >아날로그 인간이 되려면 펜과 노트는 뗄 수 없으니까!</span
        >
      </div>
      <div class="img_box">
        <img class="layer_img" src="assetsub/pspt.jpg" alt="" /><span
          class="caption"
          >휴학생이 된 2026년에는 꼭 품속에 여권을 넣어다닐 거다.<br />
          언제든 여행 갈 수 있게..</span
        >
      </div>
      <div class="img_box">
        <img class="layer_img" src="assetsub/hand.jpg" alt="" /><span
          class="caption"
          >유통기한이 지난 핸드크림과는 이별하고 새로운 친구를 장만할까요</span
        >
      </div>
      <div class="img_box">
        <img class="layer_img" src="assetsub/rol.webp" alt="" /><span
          class="caption"
          >슬슬 겨울이 오니 돌돌이를 넣고 다녀야겠습니다</span
        >
      </div>
    </div>
    <fieldset id="index">
      <legend>인덱스 index</legend>
      <ul>
        <li><input type="checkbox" id="pa" checked /> 과거에 담아다녔던 것</li>
        <li><input type="checkbox" id="fu" checked /> 미래에 담고싶은 것</li>
      </ul>
    </fieldset>
    <a href="index.html"> <button class="fixed-btn">⬅︎</button></a>
    <script>
      window.addEventListener('scroll', () => {
        const scrollTop = window.scrollY;
        const docHeight =
          document.documentElement.scrollHeight - window.innerHeight;
        const scrollPercent = (scrollTop / docHeight) * 100;
        document.querySelector('.scroll-bar').style.width = scrollPercent + '%';
      });

      window.addEventListener('load', () => {
        const boxes = document.querySelectorAll('.img_box');
        const layer = document.getElementById('layer');
        const layerWidth = layer.offsetWidth;
        const layerHeight = layer.offsetHeight;
        const placed = []; // 배치된 이미지들의 좌표 기록

        function isOverlapping(x, y, w, h) {
          return placed.some((p) => {
            return !(
              (
                x + w < p.x || // 오른쪽
                x > p.x + p.w || // 왼쪽
                y + h < p.y || // 아래쪽
                y > p.y + p.h
              ) // 위쪽
            );
          });
        }

        boxes.forEach((box) => {
          const w = 320;
          const h = 320;
          const marginX = 80; // 좌우 여백
          let x,
            y,
            tries = 0;

          do {
            x = marginX + Math.random() * (layerWidth - w - marginX * 2);
            y = Math.random() * (layerHeight - h);
            tries++;
            if (tries > 200) break;
          } while (isOverlapping(x, y, w, h));

          box.style.left = `${x}px`;
          box.style.top = `${y}px`;
          placed.push({ x, y, w, h });
        });

        const pastCheck = document.getElementById('pa');
        const futureCheck = document.getElementById('fu');

        function applyFilter() {
          boxes.forEach((box, index) => {
            if (index < 6 && !pastCheck.checked) {
              box.style.display = 'none';
            } else if (index >= 6 && !futureCheck.checked) {
              box.style.display = 'none';
            } else {
              box.style.display = 'block';
            }
          });
        }

        pastCheck.addEventListener('change', applyFilter);
        futureCheck.addEventListener('change', applyFilter);
        applyFilter();
      });
    </script>
  </body>
</html>
